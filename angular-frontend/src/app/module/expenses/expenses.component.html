<div class="p-grid">
  <div class="p-col"  style="padding:0px"></div>
  <div class="p-col-10">
    <div class="p-mt-4">
      <p-card styleClass="expenseContainer">
        <h3>Total Expenses: </h3>
        <span class="expenseText">RM {{expense}}</span>
      </p-card>
    </div>
    <div class="p-my-3">
      <p-dialog header="Add New Expense" [(visible)]="display" [style]="{width: '30vw'}">
        <div class="p-fluid" [style]="{ height: '60vh'}">
          <div class="p-field" [style]="{ marginBottom: '30px'}">
            <label for="date">Date</label>
            <p-calendar id="date" [(ngModel)]="value" placeholder="Pick a Date"></p-calendar>
          </div>
          <div class="p-field" [style]="{ marginBottom: '30px'}">
              <label for="category">Category</label>
              <p-dropdown id="category" [options]="expenses" [(ngModel)]="selectedExpense" optionLabel="name" [showClear]="true" placeholder="Select a Category">
                <ng-template pTemplate="selectedItem">
                  <div *ngIf="selectedExpense">
                    
                      <div class='box' [style.background-color]="selectedExpense.color"></div>
                      <div >{{selectedExpense.name}}</div>
                    
                  </div>
              </ng-template>
              <ng-template let-expense pTemplate="item">
                  <div>
                    <div class='box' [style.background-color]="expense.color"></div>
                      <div>{{expense.name}}</div>
                  </div>
              </ng-template>
              </p-dropdown>
          </div>
          <div class="p-field" [style]="{ marginBottom: '100px'}">
              <label for="amount">Amount</label>
              <input id="amount" type="number" pInputText placeholder="RM"> 
          </div>
          <div class="p-field" >
            <button pButton type="button" label="Submit"></button>
          </div>
        </div>
      </p-dialog>
      <button pButton class="p-button-secondary" type="button" label="Add New Expense" icon="pi pi-plus" (click)="showDialog()"></button>
    </div>
    <br>
    <p-card>
      <div class="p-text-bold">Expenses History: </div>
      <br />
      <p-table [value]="expenseList" styleClass="p-datatable-striped">
        <ng-template pTemplate="header">
            <tr>
                <th>Code</th>
                <th>Category</th>
                <th>Date</th>
                <th>Amount</th>
                <th>Actions</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-expense>
            <tr>
                <td>{{expense.code}}</td>
                <td>{{expense.category}}</td>
                <td>{{expense.date}}</td>
                <td>RM{{expense.amount | number : '1.2-2'}}</td>
                <td><button pButton type="button" class="p-button-secondary" icon="pi pi-trash" iconPos="left"></button></td>
            </tr>
        </ng-template>
    </p-table>
    </p-card>
  </div>
  <div class="p-col" style="padding:0px"></div>
</div>
